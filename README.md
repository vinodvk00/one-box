# OneBox - AI-Powered Email Management Platform

<div align="center">
  <img src="https://placehold.co/200x80/000000/FFFFFF?text=OneBox" />

  <h3>Intelligent Email Categorization & Management</h3>
  <p>Transform your inbox with AI-powered email categorization, smart reply suggestions, and comprehensive analytics</p>

  [![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)](https://github.com/your-username/one-mail)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-blue.svg)](https://www.typescriptlang.org/)
  [![React](https://img.shields.io/badge/React-19.1.1-blue.svg)](https://reactjs.org/)
  [![Node.js](https://img.shields.io/badge/Node.js-18%2B-green.svg)](https://nodejs.org/)
  [![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
  [![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](CONTRIBUTING.md)
</div>

---

## ğŸ’» Tech Stack

### Frontend
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)
![shadcn/ui](https://img.shields.io/badge/shadcn/ui-000000?style=for-the-badge&logo=shadcnui&logoColor=white)
![React Router](https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white)
![Zustand](https://img.shields.io/badge/Zustand-443E38?style=for-the-badge&logo=react&logoColor=white)

### Backend
![Node.js](https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white)
![Express.js](https://img.shields.io/badge/Express.js-000000?style=for-the-badge&logo=express&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)
![Elasticsearch](https://img.shields.io/badge/Elasticsearch-005571?style=for-the-badge&logo=elasticsearch&logoColor=white)
![Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)
![Bull](https://img.shields.io/badge/Bull_Queue-D94F5C?style=for-the-badge&logo=redis&logoColor=white)

### Authentication & Security
![OAuth](https://img.shields.io/badge/OAuth_2.0-EB5424?style=for-the-badge&logo=auth0&logoColor=white)
![Google](https://img.shields.io/badge/Google_Gmail_API-EA4335?style=for-the-badge&logo=gmail&logoColor=white)
![Sessions](https://img.shields.io/badge/Redis_Sessions-DC382D?style=for-the-badge&logo=redis&logoColor=white)
![bcrypt](https://img.shields.io/badge/bcrypt-338C6D?style=for-the-badge&logo=letsencrypt&logoColor=white)

### AI & LLM
![OpenAI](https://img.shields.io/badge/OpenAI_API-412991?style=for-the-badge&logo=openai&logoColor=white)
![Embeddings](https://img.shields.io/badge/OpenAI_Embeddings-74AA9C?style=for-the-badge&logo=openai&logoColor=white)
![Vectors](https://img.shields.io/badge/Vector_Search-005571?style=for-the-badge&logo=elasticsearch&logoColor=white)

### DevOps & Tools
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![GCP](https://img.shields.io/badge/Google_Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white)
![Git](https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white)
![ESLint](https://img.shields.io/badge/ESLint-4B32C3?style=for-the-badge&logo=eslint&logoColor=white)
![Prettier](https://img.shields.io/badge/Prettier-F7B93E?style=for-the-badge&logo=prettier&logoColor=black)

---

## ğŸ“‹ Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Demo](#demo)
- [Architecture](#architecture)
- [Quick Start](#quick-start)
- [Project Structure](#project-structure)
- [API Documentation](#api-documentation)
- [Development](#development)
- [Deployment](#deployment)
- [Contributing](#contributing)
- [License](#license)

## ğŸŒŸ Overview

OneBox is a modern, full-stack email management platform that leverages artificial intelligence to automatically categorize emails, suggest intelligent replies, and provide comprehensive analytics. It offers a seamless experience for managing large volumes of emails efficiently.

- Don't switch between accounts and searching for important things.
- Get high priority mails directly in your slack DMs in real time
- Add your custom emails reply suggestions 

### ğŸ¯ Problem Solved

- **Email Overload** - Automatically categorize and prioritize emails
- **Manual Sorting** - AI-powered classification saves hours of manual work
- **Response Time** - Smart reply suggestions speed up email responses
- **Lack of Insights** - Comprehensive analytics and reporting

### âœ¨ Key Highlights

- ğŸ¤– **AI-Powered Categorization** - Automatically classify emails into meaningful categories
- ğŸ’¬ **Smart Reply Suggestions** - Generate contextual reply recommendations
- ğŸ“Š **Real-time Analytics** - Comprehensive email statistics and insights
- ğŸ” **Advanced Search** - Powerful filtering and search capabilities
- âš¡ **Real-time Updates** - Live email processing and categorization

## ğŸš€ Features

### âœ… Current Features

- [x] **Email Synchronization** - Connect and sync multiple email accounts
- [x] **AI Categorization** - Automatic email classification into 5+ categories
- [x] **Batch Processing** - Process large volumes of emails efficiently
- [x] **Search & Filtering** - Advanced email search with multiple filters
- [x] **Analytics Dashboard** - Comprehensive email statistics and insights
- [x] **RESTful API** - Complete API for all email operations
- [x] **Modern UI** - Clean, responsive React frontend
- [x] **Real-time Updates** - Live categorization status and progress

### ğŸš§ Upcoming Features

- [ ] **Reply Templates** - Customizable email response templates
- [ ] **Email Training** - Train the AI with custom categorization rules
- [ ] **Advanced Analytics** - Deeper insights and trend analysis


## ğŸ— Architecture



### Key Design Patterns

- **Repository Pattern** - Clean data access layer abstraction
- **Dependency Injection** - Decoupled service components
- **Layered Architecture** - Controllers â†’ Services â†’ Repositories â†’ Database
- **Queue-Based Processing** - Async background jobs with Bull/Redis
- **Hybrid Database Strategy** - PostgreSQL (primary) + Elasticsearch (search)
- **Fallback Pattern** - Graceful degradation (Elasticsearch â†’ PostgreSQL)



## ğŸš€ Quick Start

### Prerequisites

- **Node.js** 20.0 or higher
- **npm** 10.0 or higher
- **PostgreSQL** 16+ (primary database)
- **Redis** 7+ (sessions + queue)
- **Elasticsearch** 8+ (optional, for fast search)
- **OpenAI API Key** for AI categorization
- **Google OAuth** credentials for Gmail sync

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/your-username/one-mail.git
   cd one-mail
   ```

2. **Backend Setup**
   ```bash
   cd backend
   npm install
   cp .env.example .env
   # Configure your environment variables
   npm run dev
   ```

3. **Frontend Setup**
   ```bash
   cd frontend
   npm install
   cp .env.example .env
   # Configure your API endpoint
   npm run dev
   ```

4. **Access the Application**
   - Frontend: `http://localhost:5173`
   - Backend API: `http://localhost:8000`
   - API Documentation: `http://localhost:8000/api-docs`

## ğŸ“ Project Structure

```
one-mail/
â”œâ”€â”€ backend/                      # Node.js API Server
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/              # Express routes (API endpoints)
â”‚   â”‚   â”œâ”€â”€ controllers/         # Request handlers
â”‚   â”‚   â”œâ”€â”€ services/            # Business logic layer
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/           # Authentication services
â”‚   â”‚   â”‚   â”œâ”€â”€ email/          # Email processing
â”‚   â”‚   â”‚   â””â”€â”€ ai/             # AI categorization
â”‚   â”‚   â”œâ”€â”€ repositories/        # Data access layer
â”‚   â”‚   â”‚   â”œâ”€â”€ postgres/       # PostgreSQL repositories
â”‚   â”‚   â”‚   â”œâ”€â”€ elasticsearch/  # Elasticsearch repositories
â”‚   â”‚   â”‚   â””â”€â”€ interfaces/     # Repository contracts
â”‚   â”‚   â”œâ”€â”€ queues/             # Bull queue configuration
â”‚   â”‚   â”œâ”€â”€ jobs/               # Background jobs (reconciliation)
â”‚   â”‚   â”œâ”€â”€ cli/                # CLI tools (reindex)
â”‚   â”‚   â”œâ”€â”€ middleware/         # Express middleware
â”‚   â”‚   â”œâ”€â”€ database/           # DB schema & migrations
â”‚   â”‚   â”œâ”€â”€ core/               # Dependency injection container
â”‚   â”‚   â””â”€â”€ types/              # TypeScript definitions
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/                    # React Application
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Reusable UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ email/         # Email-specific components
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/        # Layout components
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # Auth components
â”‚   â”‚   â”‚   â””â”€â”€ ui/            # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ pages/             # Route pages
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx  # Main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Emails.tsx     # Email list
â”‚   â”‚   â”‚   â”œâ”€â”€ Search.tsx     # Search page
â”‚   â”‚   â”‚   â”œâ”€â”€ Settings.tsx   # Settings
â”‚   â”‚   â”‚   â””â”€â”€ Login.tsx      # Authentication
â”‚   â”‚   â”œâ”€â”€ services/          # API clients (Axios)
â”‚   â”‚   â”œâ”€â”€ stores/            # State management (Zustand)
â”‚   â”‚   â”œâ”€â”€ hooks/             # Custom React hooks
â”‚   â”‚   â””â”€â”€ types/             # TypeScript definitions
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                        # Documentation
â””â”€â”€ README.md                   # This file
```

## ğŸ“š API Documentation

### Core Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api` | List all emails with filters |
| GET | `/api/search` | Search emails with query |
| GET | `/api/{id}` | Get single email details |
| POST | `/api/{id}/categorize` | Categorize specific email |
| GET | `/api/stats/categories` | Get categorization statistics |
| POST | `/api/batch-categorize` | Start batch categorization |
| GET | `/api/batch-categorize/status` | Get batch processing status |
| POST | `/api/sync/oauth` | Sync Gmail emails via OAuth |
| GET | `/api/index/stats` | Get Elasticsearch index statistics |
| POST | `/api/index/manage` | Manage email index (reindex/delete) |
| GET | `/admin/queues` | Bull Board queue monitoring dashboard |
| GET | `/api-docs` | Swagger API documentation |

### Email Categories

- **Interested** - Leads showing genuine interest
- **Meeting Booked** - Calendar invites and confirmations
- **Not Interested** - Rejections and declines
- **Spam** - Promotional and irrelevant content
- **Out of Office** - Auto-reply messages

For complete API documentation, visit `/api-docs` when running the server.

## ğŸ’» Development

### Development Setup

1. **Install dependencies**
   ```bash
   # Backend
   cd backend && npm install

   # Frontend
   cd frontend && npm install
   ```

2. **Environment Configuration**
   ```bash
   # Backend (.env)
   PORT=8000
   DATABASE_URL=postgresql://user:pass@localhost:5432/onebox
   REDIS_HOST=localhost
   REDIS_PORT=6379
   ELASTICSEARCH_HOST=http://localhost:9200
   OPENAI_API_KEY=your_openai_api_key
   GOOGLE_CLIENT_ID=your_google_client_id
   GOOGLE_CLIENT_SECRET=your_google_client_secret
   SESSION_SECRET=your_random_secret_key
   QUEUE_CONCURRENCY=5

   # Frontend (.env)
   VITE_API_BASE_URL=http://localhost:8000
   ```

3. **Start Development Servers**
   ```bash
   # Terminal 1 - Backend
   cd backend && npm run dev

   # Terminal 2 - Frontend
   cd frontend && npm run dev
   ```

### Available Scripts

#### Backend
```bash
npm run dev              # Start development server with hot reload
npm run build            # Build TypeScript to JavaScript
npm start               # Start production server
npm run reindex          # CLI tool to rebuild Elasticsearch index
npm run reindex -- --all # Reindex all emails
npm run reindex -- --stats # Show sync statistics
```

#### Frontend
```bash
npm run dev          # Start Vite dev server
npm run build        # Build for production
npm run lint         # Run ESLint
npm run lint:fix     # Auto-fix linting issues
npm run format       # Format code with Prettier
npm run preview      # Preview production build
```

### Code Quality

Both frontend and backend maintain high code quality through:

- **TypeScript** - Strict type checking
- **ESLint** - Code linting with best practices
- **Prettier** - Consistent code formatting
- **Conventional Commits** - Standardized commit messages


## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.

### How to Contribute

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### Development Guidelines

- Follow the existing code style
- Write meaningful commit messages
- Add tests for new features
- Update documentation as needed
- Ensure all tests pass before submitting

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---
